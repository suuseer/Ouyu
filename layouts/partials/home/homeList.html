<section class="article-list--home main-width">
    {{ $articles := first 4 (after 1 .Site.RegularPages.ByDate.Reverse) }}
    {{ range $articles }}
    {{ $image := partialCached "helper/image" (dict "Context" . "Type" "articleList") .RelPermalink "articleList" }}
    <article class="card">
        <div class="article-details">
            {{ if .Params.categories }}
            <header>
                {{ range (.GetTerms "categories") }}
                <div class="article-category">
                    <a href="{{ .RelPermalink }}" {{ with .Params.style
                    }}style="background-color: {{ .background }}; color: {{ .color }};" {{ end }}>
                    {{ .LinkTitle }}
                </a>
                </div>
                {{ end }}
                <div class="article-title-wrapper">
                    <h2 class="article-title">
                        <a href="{{ .RelPermalink }}">
                            {{- .Title -}}
                        </a>
                    </h2>
                </div>
            </header>
            {{ end }}
            {{ $showDate := not .Date.IsZero }}
            {{ $showFooter := or $showDate }}
            {{ if $showFooter }}
            <footer>
                {{ if .Params.Tags }}
                <section class="tags">
                    {{ range (.GetTerms "tags") }}
                    <a href="{{ .RelPermalink }}">#{{ .LinkTitle }}</a>
                    {{ end }}
                </section>
                {{ end }}
                {{ if $showDate }}
                <div class="article-time">
                    {{ partial "helper/icon" "date" }}
                    <time class="article-time--published">
                        {{- .Date.Format (or .Site.Params.dateFormat.published "Jan 02, 2006") -}}
                    </time>
                </div>
                {{ end }}
            </footer>
            {{ end }}
        </div>
    </article>
    {{ end }}
</section>
